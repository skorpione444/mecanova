<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mecanova | Premium Agave Spirits Import, Distribution, and Infrastructure</title>
    <meta name="description" content="Mecanova connects exceptional agave spirits with European partners through compliant import execution, dependable logistics, and a long-term B2B focus." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;200;300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Jost:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://code.iconify.design/iconify-icon/3.0.0/iconify-icon.min.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.16.0/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.16.0/mapbox-gl.css" rel="stylesheet" />
    <script src="config.js" onerror="console.error('Failed to load config.js - Mapbox token may not be configured')"></script>
    <style type="text/tailwindcss">

      @theme inline {
        --color-background: var(--background);
        --color-foreground: var(--foreground);
        --color-primary: var(--primary);
        --color-primary-foreground: var(--primary-foreground);
        --color-secondary: var(--secondary);
        --color-secondary-foreground: var(--secondary-foreground);
        --color-muted: var(--muted);
        --color-muted-foreground: var(--muted-foreground);
        --color-accent: var(--accent);
        --color-accent-foreground: var(--accent-foreground);
        --color-destructive: var(--destructive);
        --color-card: var(--card);
        --color-card-foreground: var(--card-foreground);
        --color-popover: var(--popover);
        --color-popover-foreground: var(--popover-foreground);
        --color-border: var(--border);
        --color-input: var(--input);
        --color-ring: var(--ring);
        --color-chart-1: var(--chart-1);
        --color-chart-2: var(--chart-2);
        --color-chart-3: var(--chart-3);
        --color-chart-4: var(--chart-4);
        --color-chart-5: var(--chart-5);

        --font-font-sans: var(--font-sans);
        --font-font-heading: var(--font-heading);
        --font-font-serif: var(--font-serif);
        --font-font-mono: var(--font-mono);

        --radius-sm: calc(var(--radius) - 4px);
        --radius-md: calc(var(--radius) - 2px);
        --radius-lg: var(--radius);
        --radius-xl: calc(var(--radius) + 4px);
      }

      :root {
          --background: #111111;
        --foreground: #ecdfcc;
        --primary: #ecdfcc;
        --primary-foreground: #111111;
        --secondary: #2A2A2A;
        --secondary-foreground: #ecdfcc;
        --muted: #2A2A2A;
        --muted-foreground: #cdc9c2;
        --accent: #2A2A2A;
        --accent-foreground: #ecdfcc;
        --destructive: #7f1d1d;
        --card: #1a1a1a;
        --card-foreground: #ecdfcc;
        --popover: #111111;
        --popover-foreground: #ecdfcc;
        --border: #2A2A2A;
        --input: #2A2A2A;
        --ring: #cdc9c2;
        --chart-1: #ecdfcc;
        --chart-2: #cdc9c2;
        --chart-3: #A89F91;
        --chart-4: #7D7468;
        --chart-5: #5C5449;

        --font-sans: "Manrope";
        --font-heading: "Jost";
        --font-serif: "Playfair Display";
        --font-mono: "JetBrains Mono";

        --radius: 0rem;
      }
      
      #mapbox-globe {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background-color: #000000; /* Black background */
      }
      
      #mapbox-globe .mapboxgl-canvas {
        position: absolute;
        opacity: 0;
        transition: opacity 2s ease-in-out; /* Slow fade-in transition */
      }
      
      #mapbox-globe .mapboxgl-canvas.fade-in {
        opacity: 1;
      }
      
      /* Hide Mapbox labels using CSS - be specific to avoid hiding the map canvas */
      #mapbox-globe .mapboxgl-marker,
      #mapbox-globe .mapboxgl-popup {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
      }
      
      .hero-text-enhanced {
        text-shadow: 
          0 0 6px rgba(0, 0, 0, 0.9),
          0 0 12px rgba(0, 0, 0, 0.7),
          0 2px 4px rgba(0, 0, 0, 0.8);
        -webkit-text-stroke: 0.5px rgba(0, 0, 0, 0.4);
        text-stroke: 0.5px rgba(0, 0, 0, 0.4);
      }
      
      @keyframes heartbeat {
        0%, 100% {
          transform: scale(1);
          opacity: 1;
        }
        25% {
          transform: scale(1.008);
          opacity: 0.98;
        }
        50% {
          transform: scale(1);
          opacity: 1;
        }
        75% {
          transform: scale(1.005);
          opacity: 0.99;
        }
      }
      
      .mecanova-heartbeat {
        animation: heartbeat 4s ease-in-out infinite;
      }
      
      .nav-link-border {
        border: 2px solid rgba(236, 223, 204, 0);
        transition: border-color 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94), color 0.3s ease;
      }
      
      .nav-link-border:hover {
        border-color: rgba(236, 223, 204, 1);
      }
      
      .client-login-btn {
        background-color: rgba(236, 223, 204, 1);
        color: #111111;
        border: 2px solid rgba(236, 223, 204, 1);
        transition: background-color 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                    color 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                    border-color 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }
      
      .client-login-btn:hover {
        background-color: transparent;
        color: rgba(236, 223, 204, 1);
        border-color: rgba(236, 223, 204, 1);
      }
      
      /* Inverse hover effect for send inquiry button */
      #send-inquiry-btn {
        background-color: var(--primary);
        color: var(--primary-foreground);
        border: 3px solid transparent;
        transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
      }

      /* After sending, apply persistent 'sent' styling */
      #send-inquiry-btn.sent {
        background-color: transparent;
        color: var(--muted-foreground);
        border-color: var(--muted-foreground);
      }
      /* Hover: quick text increase + slow heartbeat on the label only */
      #send-inquiry-btn .btn-label {
        display: inline-block;
        transition: transform 120ms cubic-bezier(0.25, 0.46, 0.45, 0.94), color 120ms;
        transform-origin: center;
        will-change: transform;
      }

      #send-inquiry-btn:hover .btn-label {
        transform: scale(1.06);
        animation: heartbeat 4s ease-in-out infinite;
      }
      
      /* About / Three Pillars ‚Äî premium, minimal styles */
      .about-eyebrow {
        font-variant: small-caps;
        letter-spacing: 0.18em;
        color: var(--foreground); /* #ecdfcc */
        font-size: 0.8125rem;
      }
      .about-heading {
        color: #ecdfcc; /* headings full opacity */
      }
      .about-subhead {
        color: rgba(205,201,194,0.9); /* body ~0.90 */
        max-width: 900px;
      }

      .pillars { max-width: 1100px; margin: 0 auto; }
      .pillar {
        opacity: 0;
        transform: translateY(10px);
        transition: opacity 650ms cubic-bezier(0.22, 1, 0.36, 1), transform 650ms cubic-bezier(0.22, 1, 0.36, 1);
        will-change: opacity, transform;
        border-radius: 0;
      }
      .pillar.reveal {
        opacity: 1;
        transform: none;
      }

      .divider {
        height: 1px;
        background: rgba(205,201,194,0.30); /* divider 0.25-0.35 */
        transform-origin: left;
        transform: scaleX(0);
        transition: transform 500ms cubic-bezier(0.22, 1, 0.36, 1);
      }
      .divider.draw { transform: scaleX(1); }

      .numeral {
        font-family: var(--font-serif);
        min-width: 2.25rem;
        font-size: 1rem;
        line-height: 1;
      }

      .pillar-title { color: #ecdfcc; opacity: 0.96; }
      .keyword { position: relative; opacity: 0.92; display: inline-block; }
      .keyword::after {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        height: 1px;
        background: rgba(205,201,194,0.55);
        bottom: -5px;
        transform-origin: left;
        transform: scaleX(0);
        transition: transform 220ms ease-out;
      }
      .pillar:hover .keyword::after { transform: scaleX(1); }
      .pillar:hover .pillar-title { opacity: 1; transition: opacity 220ms ease-out; }

      /* Portfolio card hover effect - border on "View Collection" text */
      .portfolio-view-collection {
        border: 2px solid transparent;
        transition: none;
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.5rem;
        margin: -0.25rem -0.5rem;
      }
      
      .portfolio-view-collection.fade-in {
        transition: border-color 0.8s ease;
      }
      
      .group:hover .portfolio-view-collection {
        border-color: var(--background);
      }

      /* Responsive: reduce padding on mobile */
      @media (max-width: 640px) {
        .pillar { padding-left: 1.25rem; padding-right: 1.25rem; padding-top: 1.25rem; padding-bottom: 1.25rem; }
      }

      /* Hero text animations - synchronized with map fade-in */
      .hero-text-item {
        opacity: 0;
        transition: opacity 2s ease-in-out; /* Same speed and timing as map */
      }
      .hero-text-item.revealed {
        opacity: 1;
      }
      
      /* MECANOVA letter-spacing animation */
      .hero-mecanova {
        letter-spacing: 0.21em !important; /* 0.15em + 0.06em */
        transition: letter-spacing 2s ease-in-out; /* Same speed as map */
      }
      .hero-mecanova.letter-spacing-complete {
        letter-spacing: 0.15em !important; /* original value */
      }
      
      /* Divider line animation */
      .hero-divider {
        opacity: 0;
        transition: opacity 2s ease-in-out; /* Same speed as map */
      }
      .hero-divider.drawn {
        opacity: 1;
      }
      
      /* Soft emphasis on Import | Distribution | Infrastructure */
      .hero-emphasis {
        opacity: 0;
        transition: opacity 2s ease-in-out; /* Same speed as map */
      }
      .hero-emphasis.emphasized {
        opacity: 1;
      }
      
      /* Hero lines (left and right of Import | Distribution | Infrastructure) */
      .hero-line {
        opacity: 0;
        transition: opacity 2s ease-in-out; /* Same speed and timing as hero text */
      }
      .hero-line.revealed {
        opacity: 1;
      }
      
      /* Paragraph line blocks */
      .hero-paragraph-line {
        opacity: 0;
        transition: opacity 2s ease-in-out; /* Same speed as map */
        display: inline-block;
      }
      .hero-paragraph-line.revealed {
        opacity: 1;
      }
      
      /* Hero check items - slower fade-in after hero text */
      .hero-check-item {
        opacity: 0;
        transition: opacity 4s ease-in-out; /* Slower fade-in */
      }
      .hero-check-item.revealed {
        opacity: 1;
      }

      /* Reduced motion: remove transitions and show immediately */
      @media (prefers-reduced-motion: reduce) {
        .pillar, .divider, .keyword::after {
          transition: none !important;
          transform: none !important;
          opacity: 1 !important;
        }
        .divider { transform: scaleX(1) !important; }
        .portfolio-view-collection {
          transition: none !important;
        }
        .hero-text-item,
        .hero-paragraph-line,
        .hero-line {
          opacity: 1 !important;
          transition: none !important;
        }
        .hero-mecanova {
          letter-spacing: 0.15em !important;
          transition: none !important;
        }
        .hero-divider {
          opacity: 1 !important;
          transition: none !important;
        }
        .hero-emphasis {
          opacity: 1 !important;
          transition: none !important;
        }
        .hero-check-item {
          opacity: 1 !important;
          transition: none !important;
        }
        #mapbox-globe .mapboxgl-canvas {
          opacity: 1 !important;
          transition: none !important;
        }
        .mecanova-mouse-gravitate {
          transition: none !important;
        }
      }
      
      .mecanova-mouse-gravitate {
        will-change: transform;
        transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }
    </style>
  </head>
  <body>
    <div class="min-h-screen bg-background text-foreground font-sans">
      <header
        class="fixed top-0 left-0 right-0 z-[9999] backdrop-blur-md border-b border-border"
        style="background-color: #0b0c0a;"
      >
        <div class="max-w-7xl mx-auto flex items-center justify-between px-8 lg:px-12 py-6">
          <div class="h-12 flex items-center">
            <div class="relative h-12 w-12 mr-4 flex-shrink-0">
              <img
                src="images/MECANOVA_jaguar_logo.svg"
                alt="Mecanova logo"
                class="absolute left-0 top-1/2 transform -translate-y-1/2 h-18 w-auto"
              />
            </div>
            <h1 class="text-2xl lg:text-3xl font-sans font-light text-primary tracking-[0.15em] uppercase">
              MECANOVA
            </h1>
          </div>
          <nav class="hidden md:flex items-center gap-8">
            <a href="#portfolio" class="nav-link-border text-sm uppercase tracking-wider text-foreground hover:text-primary px-3 py-2 box-border">Portfolio</a>
            <a href="#about" class="nav-link-border text-sm uppercase tracking-wider text-foreground hover:text-primary px-3 py-2 box-border">About</a>
            <a href="technology.html" class="nav-link-border text-sm uppercase tracking-wider text-foreground hover:text-primary px-3 py-2 box-border">Technology</a>
            <a href="#contact" class="nav-link-border text-sm uppercase tracking-wider text-foreground hover:text-primary px-3 py-2 box-border">Contact</a>
            <a href="coming-soon.html" class="client-login-btn px-6 py-2 uppercase tracking-widest text-xs inline-block">
              Client Log-In
            </a>
          </nav>
          <button class="md:hidden p-2 text-foreground">
            <iconify-icon icon="solar:hamburger-menu-linear" class="size-8"></iconify-icon>
          </button>
        </div>
      </header>
      <section
        class="relative pt-40 pb-32 px-8 lg:px-12 flex flex-col items-center justify-center text-center min-h-[90vh] overflow-hidden"
      >
        <div id="mapbox-globe" class="absolute inset-0 z-0"></div>
        <div
          class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-[#2a2a2a] via-background/80 to-background/90 opacity-60 z-[1]"
        ></div>
        <div class="absolute inset-0 bg-black/25 z-[2]"></div>
        <div class="absolute bottom-0 left-0 w-32 h-12 bg-black z-[3]"></div>
        <div class="relative z-10 max-w-4xl mx-auto space-y-10 animate-fade-in">
          <div class="hero-text-item" id="hero-est">
            <span
              class="text-sm uppercase tracking-[0.3em] text-muted-foreground font-medium pb-2 inline-block relative"
            >
              Est. 2024
              <span class="hero-divider absolute bottom-0 left-0 right-0 h-px bg-muted-foreground/30"></span>
            </span>
          </div>
          <h1 class="flex flex-col items-center gap-2">
            <span class="hero-text-item hero-mecanova text-5xl md:text-6xl lg:text-9xl font-avant-garde font-extralight uppercase text-primary tracking-wide" id="hero-mecanova">
              MECANOVA
            </span>
            <div class="flex flex-col items-center gap-2">
              <div class="flex items-center gap-4 mt-2">
                <div class="hero-line hidden md:block w-12 h-[1px] bg-[#ecdfcc]/30"></div>
                <span class="hero-text-item hero-text-enhanced text-4xl font-serif italic text-[#ecdfcc]/90 bg-black/40 px-4 py-2 rounded-sm inline-block" id="hero-premium">
                  Premium Agave Spirits
                </span>
                <div class="hero-line hidden md:block w-12 h-[1px] bg-[#ecdfcc]/30"></div>
              </div>
              <span class="hero-text-item hero-emphasis hero-text-enhanced text-base md:text-lg lg:text-xl font-heading font-light text-[#ecdfcc] bg-black/40 px-4 py-2 rounded-sm inline-block tracking-widest uppercase" id="hero-infrastructure">
                Import <span class="text-[#ecdfcc] mx-3">‚Ä¢</span> Distribution <span class="text-[#ecdfcc] mx-3">‚Ä¢</span> Infrastructure
              </span>
            </div>
          </h1>
          <p class="hero-text-enhanced text-xl lg:text-2xl text-muted-foreground leading-relaxed max-w-2xl mx-auto bg-black/40 px-6 py-3 rounded-sm inline-block" id="hero-paragraph">
            <span class="hero-paragraph-line">We connect exceptional agave spirits with European partners through compliant import execution,</span>
            <span class="hero-paragraph-line"> dependable logistics, and a long-term B2B focus.</span>
          </p>
          <div class="space-y-3 text-left max-w-xl mx-auto pt-4">
            <div class="flex items-start gap-3 bg-black/40 px-4 py-2 rounded-sm hero-check-item hero-text-enhanced" id="hero-check-1">
              <iconify-icon icon="solar:check-circle-bold" class="size-5 text-primary mt-1 flex-shrink-0"></iconify-icon>
              <p class="text-muted-foreground text-base lg:text-lg">Frankfurt-based importer built for retail, hospitality, and wholesale partners</p>
            </div>
            <div class="flex items-start gap-3 bg-black/40 px-4 py-2 rounded-sm hero-check-item hero-text-enhanced" id="hero-check-2">
              <iconify-icon icon="solar:check-circle-bold" class="size-5 text-primary mt-1 flex-shrink-0"></iconify-icon>
              <p class="text-muted-foreground text-base lg:text-lg">Compliance-first: labeling, documentation, and traceability handled properly</p>
            </div>
          </div>
          <div class="pt-10 flex flex-col sm:flex-row gap-8 justify-center items-center mb-10">
            <button
              class="border border-primary text-primary px-12 py-5 uppercase tracking-widest text-sm hover:bg-primary hover:text-background hover:border-primary transition-all duration-300 w-full sm:w-[280px]"
            >
              Request Portfolio &amp; Samples
            </button>
            <button
              class="border border-primary text-primary px-12 py-5 uppercase tracking-widest text-sm hover:bg-primary hover:text-background hover:border-primary transition-all duration-300 w-full sm:w-[280px]"
            >
              Our Distribution Partners
            </button>
          </div>
        </div>
        <div class="absolute bottom-12 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2">
          <span class="text-xs uppercase tracking-widest text-muted-foreground opacity-50">SCROLL</span>
          <div class="w-px h-8 bg-muted-foreground/30"></div>
        </div>
        <div class="fixed left-6 md:left-12 top-1/2 -translate-y-1/2 hidden lg:block z-[100]">
          <div class="flex flex-col gap-6 items-center">
            <div class="w-[1px] h-24 bg-[#ecdfcc]/20"></div>
            <span class="text-[10px] tracking-[0.3em] text-[#ecdfcc]/40 uppercase font-heading" style="writing-mode: vertical-rl; transform: rotate(180deg);">MECANOVA UG (HAFTUNGSBESCHR√ÑNKT)</span>
            <div class="w-[1px] h-24 bg-[#ecdfcc]/20"></div>
          </div>
        </div>
      </section>
      <section id="portfolio" class="py-28 px-8 lg:px-12 bg-card/30 relative overflow-hidden">
        <video
          autoplay
          loop
          muted
          playsinline
          class="absolute inset-0 w-full h-full object-cover z-0"
          style="object-fit: cover;"
        >
          <source src="videos/portfolio-background.mp4" type="video/mp4" />
        </video>
        <div class="absolute inset-0 bg-background/60 z-[1]"></div>
        <div class="absolute bottom-0 left-0 right-0 h-64 z-[2] pointer-events-none">
          <div class="absolute inset-0 bg-gradient-to-t from-black via-black/80 via-black/40 to-transparent"></div>
          <div class="absolute bottom-0 left-0 right-0 h-full backdrop-blur-lg" style="mask-image: linear-gradient(to top, rgba(0,0,0,1) 0%, rgba(0,0,0,0.95) 5%, rgba(0,0,0,0.85) 12%, rgba(0,0,0,0.7) 20%, rgba(0,0,0,0.5) 30%, rgba(0,0,0,0.3) 42%, rgba(0,0,0,0.15) 55%, rgba(0,0,0,0.05) 70%, rgba(0,0,0,0) 85%, rgba(0,0,0,0) 100%); -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,1) 0%, rgba(0,0,0,0.95) 5%, rgba(0,0,0,0.85) 12%, rgba(0,0,0,0.7) 20%, rgba(0,0,0,0.5) 30%, rgba(0,0,0,0.3) 42%, rgba(0,0,0,0.15) 55%, rgba(0,0,0,0.05) 70%, rgba(0,0,0,0) 85%, rgba(0,0,0,0) 100%);"></div>
        </div>
        <div class="max-w-7xl mx-auto space-y-16 relative z-10">
          <div class="flex flex-col items-start gap-4 mb-12">
            <h2 class="text-4xl lg:text-5xl font-heading font-light tracking-wide">Our Portfolio</h2>
            <div class="h-px w-24 bg-primary"></div>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <a href="tequila.html" class="group bg-card/70 hover:bg-primary transition-all duration-300 border-[3px] border-primary p-10 flex flex-col justify-between min-h-[400px] relative overflow-hidden block">
              <div
                class="absolute top-4 right-4 opacity-10 group-hover:opacity-100 transition-opacity"
              >
                <iconify-icon icon="mdi:glass-cocktail" class="size-48 group-hover:text-background"></iconify-icon>
              </div>
              <div class="space-y-4 z-10">
                <h3 class="text-2xl font-heading text-primary group-hover:text-background">Tequila</h3>
                <p class="text-muted-foreground group-hover:text-background text-sm leading-relaxed">
                  Premium tequila selected for clarity of terroir and production integrity‚Äîclean agave expression, balanced profiles, and reliable consistency for on-trade and retail. Built for partners who care about credibility, not gimmicks.
                </p>
              </div>
              <div class="pt-4">
                <span
                  class="portfolio-view-collection text-primary group-hover:text-background text-sm uppercase tracking-wider font-medium"
                >
                  View Collection
                  <iconify-icon icon="solar:arrow-right-linear" class="ml-2 size-4"></iconify-icon>
                </span>
              </div>
            </a>
            <a href="mezcal.html" class="group bg-card/70 hover:bg-primary transition-all duration-300 border-[3px] border-primary p-10 flex flex-col justify-between min-h-[400px] relative overflow-hidden block">
              <div
                class="absolute top-4 right-4 opacity-10 group-hover:opacity-100 transition-opacity"
              >
                <iconify-icon icon="lucide:flame" class="size-48 group-hover:text-background"></iconify-icon>
              </div>
              <div class="space-y-4 z-10">
                <h3 class="text-2xl font-heading text-primary group-hover:text-background">Mezcal</h3>
                <p class="text-muted-foreground group-hover:text-background text-sm leading-relaxed">
                  Craft mezcal with a focus on character and provenance‚Äîdistinct agave profiles, thoughtful production, and transparent sourcing. Ideal for premium bars, specialist retailers, and partners building a serious spirits range.
                </p>
              </div>
              <div class="pt-4">
                <span
                  class="portfolio-view-collection text-primary group-hover:text-background text-sm uppercase tracking-wider font-medium"
                >
                  View Collection
                  <iconify-icon icon="solar:arrow-right-linear" class="ml-2 size-4"></iconify-icon>
                </span>
              </div>
            </a>
            <a href="raicilla.html" class="group bg-card/70 hover:bg-primary transition-all duration-300 border-[3px] border-primary p-10 flex flex-col justify-between min-h-[400px] relative overflow-hidden block">
              <div
                class="absolute top-4 right-4 opacity-10 group-hover:opacity-100 transition-opacity"
              >
                <iconify-icon icon="solar:leaf-linear" class="size-48 group-hover:text-background"></iconify-icon>
              </div>
              <div class="space-y-4 z-10">
                <h3 class="text-2xl font-heading text-primary group-hover:text-background">Raicilla</h3>
                <p class="text-muted-foreground group-hover:text-background text-sm leading-relaxed">
                  A rare agave spirit defined by precision and character‚Äîbright aromatics, natural complexity, and a profile that stands apart without excess. Our raicilla selections are chosen for purity and balance, offering genuine differentiation for partners seeking something distinctive and uncompromised.
                </p>
              </div>
              <div class="pt-4">
                <span
                  class="portfolio-view-collection text-primary group-hover:text-background text-sm uppercase tracking-wider font-medium"
                >
                  View Collection
                  <iconify-icon icon="solar:arrow-right-linear" class="ml-2 size-4"></iconify-icon>
                </span>
              </div>
            </a>
          </div>
        </div>
      </section>
      <div class="h-[600px] lg:h-[700px] w-full bg-muted relative overflow-hidden">
        <video
          autoplay
          loop
          muted
          playsinline
          class="w-full h-full object-cover"
        >
          <source src="videos/agave-field-background.mp4" type="video/mp4" />
        </video>
        <div class="absolute top-0 left-0 right-0 h-64 z-[1] pointer-events-none">
          <div class="absolute inset-0 bg-gradient-to-b from-black via-black/80 via-black/40 to-transparent"></div>
          <div class="absolute top-0 left-0 right-0 h-full backdrop-blur-lg" style="mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.6) 10%, rgba(0,0,0,0.3) 25%, rgba(0,0,0,0.05) 45%, rgba(0,0,0,0) 65%, rgba(0,0,0,0) 100%); -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.6) 10%, rgba(0,0,0,0.3) 25%, rgba(0,0,0,0.05) 45%, rgba(0,0,0,0) 65%, rgba(0,0,0,0) 100%);"></div>
          <div class="absolute top-0 left-0 right-0 h-full backdrop-blur-md" style="mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.7) 15%, rgba(0,0,0,0.4) 30%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0) 70%, rgba(0,0,0,0) 100%); -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.7) 15%, rgba(0,0,0,0.4) 30%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0) 70%, rgba(0,0,0,0) 100%);"></div>
          <div class="absolute top-0 left-0 right-0 h-full backdrop-blur-sm" style="mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.8) 20%, rgba(0,0,0,0.5) 40%, rgba(0,0,0,0.2) 60%, rgba(0,0,0,0) 100%); -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.8) 20%, rgba(0,0,0,0.5) 40%, rgba(0,0,0,0.2) 60%, rgba(0,0,0,0) 100%);"></div>
        </div>
        <div class="absolute inset-0 flex items-center justify-center bg-black/40 z-[2]"></div>
        <div class="absolute inset-0 flex items-center justify-center z-[3] pointer-events-none">
          <img
            src="images/agave-plant.gif"
            alt="Agave Plant"
            class="max-w-md w-full h-auto object-contain"
          />
        </div>
      </div>
      <section id="about" class="py-32 px-8 lg:px-12 relative" style="background-color: #0b0c0a;">
        <div class="max-w-[1100px] mx-auto about-section">
          <div class="relative h-0">
            <img
              src="images/MECANOVA_jaguar_logo.svg"
              alt="Mecanova logo"
              class="absolute left-1/2 -translate-x-1/2 bottom-12 -translate-y-1/2 h-18 w-auto z-50"
            />
          </div>

          <div class="flex flex-col items-center text-center gap-4 mb-12">
            <span class="about-eyebrow text-xs uppercase tracking-[0.25em] text-muted-foreground font-medium">About</span>
            <h2 class="about-heading text-4xl lg:text-5xl font-heading font-semibold tracking-tight text-primary">
              Four Pillars
            </h2>
            <p class="about-subhead text-lg text-[rgba(205,201,194,0.9)]">
              From origin to expression.
            </p>
          </div>

          <div class="pillars flex flex-col gap-8">
            <div class="pillar bg-transparent px-8 py-10 md:py-14" data-keyword="Integrity" role="article" aria-label="Integrity Before Scale">
              <div class="flex items-start gap-6">
                <div class="numeral text-[rgba(205,201,194,0.45)] text-xl font-serif leading-none">I</div>
                <div class="w-full">
                  <h3 class="pillar-title text-2xl lg:text-3xl font-heading font-semibold tracking-tight text-primary">
                    <span class="keyword">Integrity</span> Before Scale
                  </h3>
                  <div class="divider mt-4 mb-6" aria-hidden="true"></div>
                  <p class="pillar-body text-[rgba(205,201,194,0.9)] leading-[1.6] text-base lg:text-lg">
                    We were founded on a simple conviction: quality must come before scale. In a category increasingly shaped by additives and artificial correction, we work exclusively with spirits that stand on their own‚Äîclean, uncompromised, and honest by design.
                  </p>
                </div>
              </div>
            </div>

            <div class="pillar bg-transparent px-8 py-10 md:py-14" data-keyword="Origin" role="article" aria-label="Respect for Origin">
              <div class="flex items-start gap-6">
                <div class="numeral text-[rgba(205,201,194,0.45)] text-xl font-serif leading-none">II</div>
                <div class="w-full">
                  <h3 class="pillar-title text-2xl lg:text-3xl font-heading font-semibold tracking-tight text-primary">
                    Respect for <span class="keyword">Origin</span>
                  </h3>
                  <div class="divider mt-4 mb-6" aria-hidden="true"></div>
                  <p class="pillar-body text-[rgba(205,201,194,0.9)] leading-[1.6] text-base lg:text-lg">
                    We partner only with producers who respect the raw material, the process, and the end consumer. Our portfolio is defined by agave and terroir‚Äînot industrial adjustment‚Äîthrough transparent sourcing and additive-free production.
                  </p>
                </div>
              </div>
            </div>

            <div class="pillar bg-transparent px-8 py-10 md:py-14" data-keyword="Distribution" role="article" aria-label="Disciplined Distribution">
              <div class="flex items-start gap-6">
                <div class="numeral text-[rgba(205,201,194,0.45)] text-xl font-serif leading-none">III</div>
                <div class="w-full">
                  <h3 class="pillar-title text-2xl lg:text-3xl font-heading font-semibold tracking-tight text-primary">
                    Disciplined <span class="keyword">Distribution</span>
                  </h3>
                  <div class="divider mt-4 mb-6" aria-hidden="true"></div>
                  <p class="pillar-body text-[rgba(205,201,194,0.9)] leading-[1.6] text-base lg:text-lg">
                    Our role is to translate integrity into professional European distribution. From compliance and documentation to market readiness, we apply the same rigor to distribution as we do to product selection‚Äîbuilding long-term partnerships and sustainable category growth.
                  </p>
                </div>
              </div>
            </div>

            <div class="pillar bg-transparent px-8 py-10 md:py-14" data-keyword="Technology" role="article" aria-label="Technology as Infrastructure">
              <div class="flex items-start gap-6">
                <div class="numeral text-[rgba(205,201,194,0.45)] text-xl font-serif leading-none">IV</div>
                <div class="w-full">
                  <h3 class="pillar-title text-2xl lg:text-3xl font-heading font-semibold tracking-tight text-primary">
                    <span class="keyword">Technology</span> as Infrastructure
                  </h3>
                  <div class="divider mt-4 mb-6" aria-hidden="true"></div>
                  <p class="pillar-body text-[rgba(205,201,194,0.9)] leading-[1.6] text-base lg:text-lg">
                    We invest in technology not as a differentiator, but as infrastructure. Through system-level integrations, APIs, and data-driven tools, we remove friction from professional distribution while preserving product integrity. Technology, for us, enables disciplined growth without compromise.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section id="contact" class="py-28 px-8 lg:px-12 border-t border-border" style="background-color: #0b0c0a;">
        <div class="max-w-5xl mx-auto">
          <div class="mb-12 text-center">
            <h2 class="text-4xl lg:text-5xl font-heading font-light mb-6">Partnership Inquiries</h2>
            <p class="text-lg lg:text-xl text-muted-foreground max-w-2xl mx-auto">
              For qualified retail or hospitality partnerships, please contact us to discuss access to our premium spirits portfolio.
            </p>
          </div>
          <form class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto" novalidate>
            <div class="space-y-6 md:col-span-2">
              <div class="space-y-2">
                <label class="text-xs uppercase tracking-widest text-muted-foreground ml-1"
                  >Full Name</label
                ><input
                  type="text"
                  class="w-full bg-input border-b border-border focus:border-primary text-foreground px-4 py-4 outline-none transition-colors rounded-none placeholder:text-muted-foreground/30 text-lg"
                  placeholder=" Don Patron"
                  required
                />
              </div>
            </div>
            <div class="space-y-2">
              <label class="text-xs uppercase tracking-widest text-muted-foreground ml-1"
                >Company</label
              ><input
                type="text"
                class="w-full bg-input border-b border-border focus:border-primary text-foreground px-4 py-4 outline-none transition-colors rounded-none placeholder:text-muted-foreground/30 text-lg"
                placeholder="Company Name"
                required
              />
            </div>
            <div class="space-y-2">
              <label class="text-xs uppercase tracking-widest text-muted-foreground ml-1"
                >Email Address</label
              ><input
                type="email"
                class="w-full bg-input border-b border-border focus:border-primary text-foreground px-4 py-4 outline-none transition-colors rounded-none placeholder:text-muted-foreground/30 text-lg"
                placeholder="donpatron@gmail.com"
                required
              />
            </div>
            <div class="space-y-2 md:col-span-2">
              <label class="text-xs uppercase tracking-widest text-muted-foreground ml-1"
                >Inquiry</label
              >              <textarea
                rows="6"
                class="w-full bg-input border-b border-border focus:border-primary text-foreground px-4 py-4 outline-none transition-colors rounded-none resize-none placeholder:text-muted-foreground/30 text-lg"
                placeholder="Tell us about your business needs..."
                required
              ></textarea>
            </div>
            <div class="md:col-span-2">
              <button
                id="send-inquiry-btn"
                type="submit"
                class="w-full bg-primary text-primary-foreground py-5 uppercase tracking-widest text-sm font-medium transition-colors mt-4"
              >
                <span class="btn-label">Send Inquiry</span>
              </button>
            </div>
          </form>
        </div>
      </section>
      <footer class="py-16 px-8 lg:px-12 border-t border-border bg-background text-center">
        <div class="max-w-7xl mx-auto">
          <div class="flex flex-col items-center mb-10">
            <h2 class="text-xl lg:text-2xl font-sans font-light text-primary/50 tracking-[0.15em] uppercase">
              MECANOVA
            </h2>
            <p class="text-[0.6rem] lg:text-[0.7rem] font-sans font-light text-primary/50 tracking-[0.15em] uppercase mt-[1px]">
              UG (HAFTUNGSBESCHR√ÑNKT)
            </p>
          </div>
          <div class="flex justify-center gap-10 mb-10">
            <a href="#" class="text-muted-foreground hover:text-primary transition-colors"
              ><iconify-icon icon="mdi:linkedin" class="size-7"></iconify-icon></a
            ><a href="#" class="text-muted-foreground hover:text-primary transition-colors"
              ><iconify-icon icon="mdi:instagram" class="size-7"></iconify-icon></a
            ><a href="#" class="text-muted-foreground hover:text-primary transition-colors"
              ><iconify-icon icon="mdi:twitter" class="size-7"></iconify-icon
            ></a>
          </div>
          <div class="text-base text-muted-foreground/60 space-y-3">
            <p>¬© 2024 Mecanova. All rights reserved.</p>
            <div class="flex justify-center gap-6 text-sm">
              <a href="privacy-policy.html" class="hover:text-primary transition-colors">Privacy Policy</a><span>|</span
              ><a href="terms-of-service.html" class="hover:text-primary transition-colors">Terms of Service</a>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <script>
      // Mapbox Globe Background
      (function() {
        // Wait a bit for config.js to load if it's still loading
        // Get token from config.js
        let accessToken = window.MAPBOX_TOKEN;
        
        // If token not immediately available, wait a moment for config.js to load
        if (!accessToken) {
          setTimeout(function() {
            accessToken = window.MAPBOX_TOKEN;
            if (accessToken && accessToken.trim() !== '' && !accessToken.includes('YourTokenHere')) {
              initializeMapbox(accessToken);
            }
          }, 100);
          return;
        }
        
        initializeMapbox(accessToken);
        
        function initializeMapbox(token) {
          console.log('Mapbox token check:', token ? 'Token found' : 'No token');
          console.log('Token value:', token ? token.substring(0, 20) + '...' : 'undefined');
          
          if (!token || token.includes('YourTokenHere') || token.trim() === '') {
            console.warn('Mapbox token not set. Please add your MAPBOX_TOKEN environment variable in Netlify site settings.');
            console.warn('Site settings > Environment variables > Add variable: MAPBOX_TOKEN');
            console.warn('After adding the variable, trigger a new deployment in Netlify.');
            return;
          }
          
          mapboxgl.accessToken = token;
          
          const mapContainer = document.getElementById('mapbox-globe');
          if (!mapContainer) {
            console.error('Mapbox container #mapbox-globe not found');
            return;
          }
          
          console.log('Initializing Mapbox globe...');
          
          try {
            const map = new mapboxgl.Map({
            container: 'mapbox-globe',
            style: 'mapbox://styles/skorpione/cmkwwfxby001501skf18f5m9h',
            center: [-99, 23], // Start centered on Mexico (longitude, latitude)
            zoom: 1.5, // Zoomed in slightly to crop top whitespace
            pitch: 30, // Increased pitch to show globe higher
            bearing: 0, // Initial bearing
            projection: 'globe',
            interactive: false, // Disable interactions for background
            attributionControl: false, // Hide attribution for cleaner look
          });
          
            console.log('Mapbox map created, waiting for load...');
            
            map.on('load', () => {
              console.log('Mapbox map loaded');
              
              // Debug: Identify all label layer IDs - Enhanced for better visibility
              console.log('%c=== IDENTIFYING ALL LABEL LAYERS ===', 'color: #00ff00; font-size: 14px; font-weight: bold;');
              const layers = map.getStyle().layers;
              
              const symbolLayers = [];
              const labelLayers = [];
              const labelDetails = [];
              
              layers.forEach(layer => {
                if (layer.type === 'symbol') {
                  symbolLayers.push(layer.id);
                  
                  if (layer.layout && layer.layout['text-field']) {
                    labelLayers.push(layer.id);
                    labelDetails.push({
                      'Layer ID': layer.id,
                      'Text Field': layer.layout['text-field'] || 'N/A',
                      'Source': layer.source || 'N/A'
                    });
                  }
                }
              });
              
              console.log('%cALL SYMBOL LAYERS (' + symbolLayers.length + ' total)', 'color: #ffaa00; font-weight: bold;');
              symbolLayers.forEach(id => console.log('  ‚Ä¢ ' + id));
              
              console.log('%cLABEL LAYERS WITH TEXT-FIELD (' + labelLayers.length + ' total)', 'color: #ff0000; font-weight: bold;');
              if (labelDetails.length > 0) {
                console.table(labelDetails);
                labelLayers.forEach(id => console.log('  ‚Ä¢ ' + id));
              } else {
                console.log('  No label layers found with text-field');
              }
              
              console.log('%c=== SUMMARY ===', 'color: #00ff00; font-weight: bold;');
              console.log('Symbol layers array:', symbolLayers);
              console.log('Label layers array:', labelLayers);
              console.log('%c=== END ===', 'color: #00ff00; font-weight: bold;');
              
              // Display layer IDs in a visible box on the page
              if (labelLayers.length > 0) {
                const debugBox = document.createElement('div');
                debugBox.style.cssText = 'position: fixed; top: 20px; right: 20px; background: rgba(0,0,0,0.95); color: #00ff00; padding: 20px; border: 3px solid #00ff00; border-radius: 8px; z-index: 10000; max-width: 500px; max-height: 80vh; overflow-y: auto; font-family: monospace; font-size: 13px; box-shadow: 0 4px 20px rgba(0,255,0,0.3);';
                debugBox.innerHTML = 
                  '<h3 style="margin-top:0; color: #00ff00; border-bottom: 2px solid #00ff00; padding-bottom: 10px;">üìç Label Layer IDs Found</h3>' +
                  '<p style="color: #ffaa00; font-weight: bold; margin: 10px 0;">Total: ' + labelLayers.length + ' label layers</p>' +
                  '<div style="background: rgba(0,255,0,0.1); padding: 10px; border-radius: 4px; margin: 10px 0;">' +
                  '<strong style="color: #00ff00;">All Label Layer IDs:</strong>' +
                  '<ul style="list-style: none; padding-left: 0; margin: 10px 0;">' +
                  labelLayers.map(id => '<li style="padding: 8px; border-bottom: 1px solid rgba(0,255,0,0.2); color: #ecdfcc;">‚Ä¢ ' + id + '</li>').join('') +
                  '</ul>' +
                  '</div>' +
                  '<button onclick="navigator.clipboard.writeText(\'' + labelLayers.join('\\n') + '\').then(() => { alert(\'‚úÖ Copied all ' + labelLayers.length + ' IDs to clipboard!\'); })" style="margin-top: 10px; padding: 10px 20px; background: #00ff00; color: #000; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 12px;">üìã Copy All IDs</button>' +
                  '<button onclick="this.parentElement.remove()" style="margin-top: 10px; margin-left: 10px; padding: 10px 20px; background: #ff0000; color: #fff; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 12px;">‚úï Close</button>';
                document.body.appendChild(debugBox);
              }
              
              // Darken the background significantly
              map.setFog({
                color: 'rgba(0, 0, 0, 0.98)', // Much darker background
                'horizon-blend': 0.05,
                'high-color': '#000000', // Pure black
                'space-color': '#000000', // Pure black
                'star-intensity': 0,
              });
              
              // Disable all map controls and interactions
              map.dragPan.disable();
              map.dragRotate.disable();
              map.scrollZoom.disable();
              map.doubleClickZoom.disable();
              map.touchZoomRotate.disable();
              map.boxZoom.disable();
              map.keyboard.disable();
              
              // Fade in the map canvas and hero text together
              const canvas = mapContainer.querySelector('.mapboxgl-canvas');
              if (canvas) {
                // Small delay to ensure map is fully rendered
                setTimeout(() => {
                  canvas.classList.add('fade-in');
                  // Ensure canvas is visible (fallback)
                  canvas.style.opacity = '1';
                  canvas.style.display = 'block';
                  canvas.style.visibility = 'visible';
                  // Trigger hero text fade-in at the same time
                  triggerHeroFadeIn();
                }, 100);
              } else {
                // If canvas not found, try again after a longer delay
                setTimeout(() => {
                  const canvasRetry = mapContainer.querySelector('.mapboxgl-canvas');
                  if (canvasRetry) {
                    canvasRetry.classList.add('fade-in');
                    canvasRetry.style.opacity = '1';
                    canvasRetry.style.display = 'block';
                    canvasRetry.style.visibility = 'visible';
                    triggerHeroFadeIn();
                  }
                }, 1000);
              }
              
              // Continuous rotation animation - move center around the globe
              // Starting from Mexico, rotating right shows: Mexico ‚Üí Atlantic ‚Üí Europe ‚Üí Asia ‚Üí Pacific ‚Üí back to Mexico
              let longitude = -99; // Start at Mexico's longitude
              const baseLatitude = 23; // Mexico's latitude
              
              function rotateGlobe() {
                // Move longitude eastward (right rotation) to show different continents
                longitude += 0.1; // Move east (which appears as right rotation)
                
                // Wrap around when we complete a full circle
                if (longitude >= 180) {
                  longitude = -180;
                }
                
                // Update the center to show different parts of the world
                map.setCenter([longitude, baseLatitude]);
                
                requestAnimationFrame(rotateGlobe);
              }
              rotateGlobe();
              console.log('Mapbox globe rotation started');
              
              // Also hide labels after map loads (in case some appear later or style.load fires before all layers are ready)
              function hideAllLabels() {
                try {
                  const layers = map.getStyle().layers;
                  layers.forEach(layer => {
                    // Only hide symbol layers that are actually labels (not all symbol layers)
                    if (layer.type === 'symbol' && (
                      layer.id.includes('label') ||
                      layer.id.includes('place') ||
                      layer.id.includes('country') ||
                      layer.id.includes('name') ||
                      layer.id.includes('text')
                    )) {
                      try {
                        // Use safe methods that won't break the map rendering
                        map.setLayoutProperty(layer.id, 'visibility', 'none');
                        if (map.getPaintProperty(layer.id, 'text-opacity')) {
                          map.setPaintProperty(layer.id, 'text-opacity', 0);
                        }
                        if (map.getPaintProperty(layer.id, 'text-color')) {
                          map.setPaintProperty(layer.id, 'text-color', 'rgba(0,0,0,0)');
                        }
                        // Don't modify text-size or icon-size as it might break map rendering
                      } catch (e) {
                        // Silently ignore errors for layers that don't have these properties
                      }
                    }
                  });
                } catch (e) {
                  console.warn('Could not hide labels:', e);
                }
              }
              
              // Hide labels after a delay to ensure map is fully loaded and visible first
              setTimeout(() => {
                console.log('Hiding labels after map load...');
                hideAllLabels();
              }, 2000);
            });
            
            map.on('style.load', () => {
              console.log('Mapbox style loaded, hiding labels and updating borders...');
              
              // Wait a bit to ensure map is rendering before hiding labels
              setTimeout(() => {
                const layers = map.getStyle().layers;
                const mecanovaBeige = '#ecdfcc'; // Mecanova brand beige color

                layers.forEach(layer => {
                  // Only hide symbol layers that are actually labels (not all symbol layers)
                  if (layer.type === 'symbol' && (
                    layer.id.includes('label') ||
                    layer.id.includes('place') ||
                    layer.id.includes('country') ||
                    layer.id.includes('name') ||
                    layer.id.includes('text')
                  )) {
                    try {
                      // Method 1: Hide visibility (primary method)
                      map.setLayoutProperty(layer.id, 'visibility', 'none');
                      
                      // Method 2: Set text opacity to 0 as backup
                      if (map.getPaintProperty(layer.id, 'text-opacity')) {
                        map.setPaintProperty(layer.id, 'text-opacity', 0);
                      }
                      
                      // Method 3: Set text color to transparent as additional backup
                      if (map.getPaintProperty(layer.id, 'text-color')) {
                        map.setPaintProperty(layer.id, 'text-color', 'rgba(0,0,0,0)');
                      }
                      
                      // Don't modify text-size or icon-size as it might break map rendering
                    } catch (e) {
                      console.warn(`Could not hide label layer ${layer.id}:`, e);
                    }
                  }
                
                  // Update border colors to Mecanova beige with varying intensities
                  if (
                    layer.type === 'line' &&
                    (
                      layer.id.includes('boundary') ||
                      layer.id.includes('border') ||
                      layer.id.includes('admin')
                    )
                  ) {
                    try {
                      // Different border intensities based on layer type
                      let borderColor = mecanovaBeige;
                      let borderOpacity = 0.3;
                      let borderWidth = 0.5;
                      
                      // Major country boundaries - more visible
                      if (layer.id.includes('admin-0') || layer.id.includes('country')) {
                        borderOpacity = 0.5;
                        borderWidth = 0.8;
                      }
                      // State/province boundaries - medium visibility
                      else if (layer.id.includes('admin-1') || layer.id.includes('state')) {
                        borderOpacity = 0.35;
                        borderWidth = 0.6;
                      }
                      // Background/buffer borders - subtle
                      else if (layer.id.includes('bg') || layer.id.includes('buffer')) {
                        borderOpacity = 0.15;
                        borderWidth = 1.0;
                      }
                      // Other boundaries - default
                      else {
                        borderOpacity = 0.25;
                        borderWidth = 0.5;
                      }
                      
                      // Apply border color and opacity
                      if (map.getPaintProperty(layer.id, 'line-color')) {
                        map.setPaintProperty(layer.id, 'line-color', borderColor);
                      }
                      if (map.getPaintProperty(layer.id, 'line-opacity')) {
                        map.setPaintProperty(layer.id, 'line-opacity', borderOpacity);
                      } else {
                        // If opacity property doesn't exist, set color with opacity
                        const beigeWithOpacity = mecanovaBeige + Math.floor(borderOpacity * 255).toString(16).padStart(2, '0');
                        map.setPaintProperty(layer.id, 'line-color', beigeWithOpacity);
                      }
                      if (map.getPaintProperty(layer.id, 'line-width')) {
                        map.setPaintProperty(layer.id, 'line-width', borderWidth);
                      }
                    } catch (e) {
                      console.warn(`Could not update border layer ${layer.id}:`, e);
                    }
                  }
                });
                
                console.log('Labels hidden and borders updated to Mecanova beige');
              }, 500); // Wait 500ms after style.load before hiding labels
            });
            
            // Hide labels whenever new data is loaded
            map.on('data', () => {
              setTimeout(() => {
                try {
                  const layers = map.getStyle().layers;
                  layers.forEach(layer => {
                    // Only hide label layers
                    if (layer.type === 'symbol' && (
                      layer.id.includes('label') ||
                      layer.id.includes('place') ||
                      layer.id.includes('country') ||
                      layer.id.includes('name') ||
                      layer.id.includes('text')
                    )) {
                      try {
                        map.setLayoutProperty(layer.id, 'visibility', 'none');
                        if (map.getPaintProperty(layer.id, 'text-opacity')) {
                          map.setPaintProperty(layer.id, 'text-opacity', 0);
                        }
                        if (map.getPaintProperty(layer.id, 'text-color')) {
                          map.setPaintProperty(layer.id, 'text-color', 'rgba(0,0,0,0)');
                        }
                      } catch (e) {
                        // Ignore errors
                      }
                    }
                  });
                } catch (e) {
                  // Ignore errors
                }
              }, 100);
            });
            
            // Continuously check and hide labels every 2 seconds (only label layers)
            setInterval(() => {
              try {
                const layers = map.getStyle().layers;
                layers.forEach(layer => {
                  // Only check and hide label layers
                  if (layer.type === 'symbol' && (
                    layer.id.includes('label') ||
                    layer.id.includes('place') ||
                    layer.id.includes('country') ||
                    layer.id.includes('name') ||
                    layer.id.includes('text')
                  )) {
                    try {
                      const visibility = map.getLayoutProperty(layer.id, 'visibility');
                      if (visibility !== 'none') {
                        map.setLayoutProperty(layer.id, 'visibility', 'none');
                      }
                      // Check text-opacity as backup
                      if (map.getPaintProperty(layer.id, 'text-opacity')) {
                        const opacity = map.getPaintProperty(layer.id, 'text-opacity');
                        if (opacity !== 0) {
                          map.setPaintProperty(layer.id, 'text-opacity', 0);
                        }
                      }
                    } catch (e) {
                      // Ignore errors
                    }
                  }
                });
              } catch (e) {
                // Ignore errors
              }
            }, 2000);
            
            map.on('error', (e) => {
              console.error('Mapbox error:', e.error);
            });
          } catch (error) {
            console.error('Failed to initialize Mapbox globe:', error);
          }
        }
      })();
    </script>
    <script>
      // Custom validation tooltips styled to match site palette
      (function () {
        const form = document.querySelector('#contact form');
        if (!form) return;

        const sendBtn = document.getElementById('send-inquiry-btn');
        if (!sendBtn) return;

        // Add CSS tweaks for validation tooltips and invalid fields
        const style = document.createElement('style');
        style.textContent = `
          /* make field container a positioning context */
          .space-y-2 { position: relative; }
          /* tooltip styling matches site palette (destructive bg with readable foreground) */
          .validation-tooltip {
            position: absolute;
            left: 0;
            top: 100%;
            transform: translateY(8px);
            background: var(--destructive);
            color: var(--primary-foreground);
            padding: 0.5rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            box-shadow: 0 6px 18px rgba(0,0,0,0.6);
            display: none;
            z-index: 60;
            white-space: nowrap;
          }
          .validation-tooltip.show { display: block; }
          input.invalid, textarea.invalid { border-color: var(--destructive) !important; }
        `;
        document.head.appendChild(style);

        function removeTooltips() {
          form.querySelectorAll('.validation-tooltip').forEach(el => el.remove());
          form.querySelectorAll('.invalid').forEach(el => el.classList.remove('invalid'));
        }

        function showTooltip(field, message) {
          const container = field.closest('.space-y-2') || field.parentElement;
          if (!container) return;
          // remove existing for that container
          const existing = container.querySelector('.validation-tooltip');
          if (existing) existing.remove();
          const tip = document.createElement('div');
          tip.className = 'validation-tooltip';
          tip.setAttribute('role', 'alert');
          tip.textContent = message;
          container.appendChild(tip);
          // small delay to allow transition if needed
          requestAnimationFrame(() => tip.classList.add('show'));
        }

        function isEmailValid(value) {
          return /^\S+@\S+\.\S+$/.test(value);
        }

        form.addEventListener('submit', function (e) {
          e.preventDefault();
          removeTooltips();

          const fields = Array.from(form.querySelectorAll('[required]'));
          let firstInvalid = null;
          fields.forEach((field) => {
            const val = field.value.trim();
            if (!val) {
              showTooltip(field, 'Please fill out this field');
              field.classList.add('invalid');
              if (!firstInvalid) firstInvalid = field;
              return;
            }
            if (field.type === 'email' && !isEmailValid(val)) {
              showTooltip(field, 'Please enter a valid email address');
              field.classList.add('invalid');
              if (!firstInvalid) firstInvalid = field;
            }
          });

          if (firstInvalid) {
            // keep the user in the contact section and reveal the invalid field
            firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
            firstInvalid.focus({ preventScroll: true });
            return;
          }

          // All valid: simulate send, disable form, and set sent state
          Array.from(form.elements).forEach((el) => {
            if (typeof el.disabled !== 'undefined') el.disabled = true;
          });
          sendBtn.textContent = 'Inquiry Sent';
          sendBtn.classList.add('sent');
          sendBtn.disabled = true;
          // keep the button visible in the section
          sendBtn.scrollIntoView({ behavior: 'smooth', block: 'center' });
        });

        // Clear tooltip on input
        form.addEventListener('input', function (e) {
          const target = e.target;
          if (!target) return;
          const container = target.closest('.space-y-2') || target.parentElement;
          const tip = container && container.querySelector('.validation-tooltip');
          if (tip) tip.remove();
          target.classList.remove('invalid');
        });
      })();
    </script>
    <script>
      (function () {
        const aboutSection = document.getElementById('about');
        if (!aboutSection) return;

        const pillars = Array.from(aboutSection.querySelectorAll('.pillar'));
        if (!pillars.length) return;

        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (prefersReduced) {
          // Immediately show content without transitions
          pillars.forEach(p => {
            p.classList.add('reveal');
            const div = p.querySelector('.divider');
            if (div) div.classList.add('draw');
          });
          return;
        }

        const observer = new IntersectionObserver((entries, obs) => {
          entries.forEach(entry => {
            if (!entry.isIntersecting) return;
            const el = entry.target;
            const index = pillars.indexOf(el);
            // Delay after trigger: 80ms + stagger between pillars 180ms
            const delay = 80 + (index * 180);
            setTimeout(() => {
              el.classList.add('reveal');
              const div = el.querySelector('.divider');
              if (div) {
                // slight micro-delay so reveal transition begins first
                setTimeout(() => div.classList.add('draw'), 20);
              }
            }, delay);
            obs.unobserve(el); // trigger once
          });
        }, { threshold: 0.12 });

        pillars.forEach(p => observer.observe(p));
      })();
    </script>
    <script>
      // Portfolio card hover effect - slow fade-in, instant fade-out
      (function() {
        const portfolioCards = document.querySelectorAll('#portfolio .group');
        if (!portfolioCards.length) return;

        portfolioCards.forEach(card => {
          const viewCollection = card.querySelector('.portfolio-view-collection');
          if (!viewCollection) return;

          card.addEventListener('mouseenter', () => {
            // Add fade-in class to enable slow transition
            viewCollection.classList.add('fade-in');
          });

          card.addEventListener('mouseleave', () => {
            // Remove fade-in class immediately to disable transition
            viewCollection.classList.remove('fade-in');
            // Force immediate border removal by setting it directly
            viewCollection.style.borderColor = 'transparent';
            // Reset inline style after a brief moment to allow CSS to take over again
            setTimeout(() => {
              viewCollection.style.borderColor = '';
            }, 10);
          });
        });
      })();
    </script>
    <script>
      // Hero text animations - synchronized with map fade-in
      (function() {
        // Check for reduced motion preference
        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        
        // Global function to trigger hero fade-in (called from map load event)
        window.triggerHeroFadeIn = function() {
          if (prefersReduced) {
            // Show everything immediately
            document.querySelectorAll('.hero-text-item, .hero-paragraph-line, .hero-check-item, .hero-line').forEach(el => {
              el.classList.add('revealed');
            });
            const divider = document.querySelector('.hero-divider');
            if (divider) divider.classList.add('drawn');
            const mecanova = document.querySelector('#hero-mecanova');
            if (mecanova) mecanova.classList.add('letter-spacing-complete');
            const emphasis = document.querySelector('.hero-emphasis');
            if (emphasis) emphasis.classList.add('emphasized');
            return;
          }

          // Fade in all hero elements together with the map (same timing)
          const estElement = document.getElementById('hero-est');
          if (estElement) {
            estElement.classList.add('revealed');
            const divider = estElement.querySelector('.hero-divider');
            if (divider) divider.classList.add('drawn');
          }

          const mecanova = document.getElementById('hero-mecanova');
          if (mecanova) {
            mecanova.classList.add('revealed');
            mecanova.classList.add('letter-spacing-complete');
          }

          const premium = document.getElementById('hero-premium');
          if (premium) {
            premium.classList.add('revealed');
          }

          const infrastructure = document.getElementById('hero-infrastructure');
          if (infrastructure) {
            infrastructure.classList.add('revealed');
            infrastructure.classList.add('emphasized');
          }
          
          // Fade in the lines at the same time as the infrastructure text
          const heroLines = document.querySelectorAll('.hero-line');
          heroLines.forEach(line => {
            line.classList.add('revealed');
          });

          const paragraphLines = document.querySelectorAll('.hero-paragraph-line');
          paragraphLines.forEach(line => {
            line.classList.add('revealed');
          });
          
          // Trigger check items sequentially after hero text finishes
          // Hero text takes 2s to fade in, so start first check item after 2s
          const heroCheck1 = document.getElementById('hero-check-1');
          if (heroCheck1 && !prefersReduced) {
            setTimeout(() => {
              heroCheck1.classList.add('revealed');
              
              // Start second check item when first one is halfway through (2s into its 4s fade)
              const heroCheck2 = document.getElementById('hero-check-2');
              if (heroCheck2) {
                setTimeout(() => {
                  heroCheck2.classList.add('revealed');
                }, 2000); // Start when first check item is halfway through (2s into 4s fade)
              }
            }, 2000); // Wait for hero text to finish (2s)
          } else if (prefersReduced) {
            // Show check items immediately if reduced motion
            document.querySelectorAll('.hero-check-item').forEach(el => {
              el.classList.add('revealed');
            });
          }
        };

        // Fallback: if map doesn't load within 5 seconds, trigger hero fade-in anyway
        setTimeout(() => {
          if (typeof window.triggerHeroFadeIn === 'function' && !document.querySelector('#mapbox-globe .mapboxgl-canvas.fade-in')) {
            console.log('Map load timeout - triggering hero fade-in');
            window.triggerHeroFadeIn();
          }
        }, 5000);
      })();
    </script>
    <script>
      // Mouse gravitation effect for MECANOVA text
      (function() {
        // Check for reduced motion preference
        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (prefersReduced) return; // Skip effect if user prefers reduced motion
        
        const mecanovaText = document.getElementById('hero-mecanova');
        const heroSection = document.querySelector('section.relative.pt-40'); // The hero section
        
        if (!mecanovaText || !heroSection) return;
        
        // Add the gravitate class
        mecanovaText.classList.add('mecanova-mouse-gravitate');
        
        let currentX = 0;
        let currentY = 0;
        let targetX = 0;
        let targetY = 0;
        let isMouseInSection = false;
        
        // Maximum offset distance (in pixels)
        const maxOffset = 6;
        
        // Smooth interpolation factor (0-1, lower = smoother but slower)
        const lerpFactor = 0.15;
        
        function lerp(start, end, factor) {
          return start + (end - start) * factor;
        }
        
        function updatePosition() {
          // Smooth interpolation
          currentX = lerp(currentX, targetX, lerpFactor);
          currentY = lerp(currentY, targetY, lerpFactor);
          
          // Apply transform
          mecanovaText.style.transform = `translate(${currentX}px, ${currentY}px)`;
          
          // Continue animation if mouse is in section
          if (isMouseInSection) {
            requestAnimationFrame(updatePosition);
          }
        }
        
        function handleMouseMove(e) {
          if (!isMouseInSection) {
            isMouseInSection = true;
            requestAnimationFrame(updatePosition);
          }
          
          // Get mouse position
          const mouseX = e.clientX;
          const mouseY = e.clientY;
          
          // Get element center position
          const rect = mecanovaText.getBoundingClientRect();
          const centerX = rect.left + rect.width / 2;
          const centerY = rect.top + rect.height / 2;
          
          // Calculate direction vector from center to mouse
          const deltaX = mouseX - centerX;
          const deltaY = mouseY - centerY;
          
          // Calculate distance
          const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
          
          // Normalize and scale (with distance-based falloff for more natural feel)
          const normalizedDistance = Math.min(distance / 200, 1); // Normalize to 0-1 over 200px
          const scale = maxOffset * normalizedDistance;
          
          // Calculate target offset
          if (distance > 0) {
            targetX = (deltaX / distance) * scale;
            targetY = (deltaY / distance) * scale;
          } else {
            targetX = 0;
            targetY = 0;
          }
        }
        
        function handleMouseLeave() {
          isMouseInSection = false;
          targetX = 0;
          targetY = 0;
          // Continue animation to smoothly return to center
          requestAnimationFrame(function animate() {
            currentX = lerp(currentX, 0, lerpFactor);
            currentY = lerp(currentY, 0, lerpFactor);
            mecanovaText.style.transform = `translate(${currentX}px, ${currentY}px)`;
            
            // Continue until close enough to center
            if (Math.abs(currentX) > 0.1 || Math.abs(currentY) > 0.1) {
              requestAnimationFrame(animate);
            } else {
              // Reset to exact center
              currentX = 0;
              currentY = 0;
              mecanovaText.style.transform = 'translate(0, 0)';
            }
          });
        }
        
        // Add event listeners to hero section
        heroSection.addEventListener('mousemove', handleMouseMove);
        heroSection.addEventListener('mouseleave', handleMouseLeave);
        
        // Also handle when mouse leaves the viewport
        document.addEventListener('mouseout', function(e) {
          if (!e.relatedTarget && !e.toElement) {
            handleMouseLeave();
          }
        });
      })();
    </script>
  </body>
</html>

