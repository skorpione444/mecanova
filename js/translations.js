// Translation system for Mecanova website
const translations = {
  en: {
    // Navigation
    navPortfolio: "Portfolio",
    navAbout: "About",
    navTechnology: "Technology",
    navContact: "Contact",
    navClientLogin: "Client Log-In",
    
    // Hero Section
    heroEst: "Est. 2024",
    heroPremiumAgave: "Premium Agave Spirits",
    heroImport: "Import",
    heroDistribution: "Distribution",
    heroInfrastructure: "Infrastructure",
    heroTagline: "Connecting exceptional agave spirits with Europe through compliant import and logistics.",
    heroCheck1: "Frankfurt-based importer built for retail, hospitality, and wholesale partners",
    heroCheck2: "Compliance-first: labeling, documentation, and traceability handled properly",
    heroButton1: "Request Portfolio & Samples",
    heroButton2: "Our Distribution Partners",
    heroScroll: "SCROLL",
    
    // Portfolio Section
    portfolioTitle: "Our Portfolio",
    portfolioTequila: "Tequila",
    portfolioTequilaDesc: "Premium tequila selected for clarity of terroir and production integrity—clean agave expression, balanced profiles, and reliable consistency for on-trade and retail. Built for partners who care about credibility, not gimmicks.",
    portfolioMezcal: "Mezcal",
    portfolioMezcalDesc: "Craft mezcal with a focus on character and provenance—distinct agave profiles, thoughtful production, and transparent sourcing. Ideal for premium bars, specialist retailers, and partners building a serious spirits range.",
    portfolioRaicilla: "Raicilla",
    portfolioRaicillaDesc: "A rare agave spirit defined by precision and character—bright aromatics, natural complexity, and a profile that stands apart without excess. Our raicilla selections are chosen for purity and balance, offering genuine differentiation for partners seeking something distinctive and uncompromised.",
    portfolioViewCollection: "View Collection",
    
    // About Section
    aboutEyebrow: "About",
    aboutTitle: "Four Pillars",
    aboutSubhead: "From origin to expression.",
    pillar1Title: "Integrity Before Scale",
    pillar1Keyword: "Integrity",
    pillar1Body: "We were founded on a simple conviction: quality must come before scale. In a category increasingly shaped by additives and artificial correction, we work exclusively with spirits that stand on their own—clean, uncompromised, and honest by design.",
    pillar2Title: "Respect for Origin",
    pillar2Keyword: "Origin",
    pillar2Body: "We partner only with producers who respect the raw material, the process, and the end consumer. Our portfolio is defined by agave and terroir—not industrial adjustment—through transparent sourcing and additive-free production.",
    pillar3Title: "Disciplined Distribution",
    pillar3Keyword: "Distribution",
    pillar3Body: "Our role is to translate integrity into professional European distribution. From compliance and documentation to market readiness, we apply the same rigor to distribution as we do to product selection—building long-term partnerships and sustainable category growth.",
    pillar4Title: "Technology as Infrastructure",
    pillar4Keyword: "Technology",
    pillar4Body: "We invest in technology not as a differentiator, but as infrastructure. Through system-level integrations, APIs, and data-driven tools, we remove friction from professional distribution while preserving product integrity. Technology, for us, enables disciplined growth without compromise.",
    
    // Contact Section
    contactTitle: "Partnership Inquiries",
    contactSubhead: "For qualified retail or hospitality partnerships, please contact us to discuss access to our premium spirits portfolio.",
    contactName: "Full Name",
    contactNamePlaceholder: "Don Patron",
    contactCompany: "Company",
    contactCompanyPlaceholder: "Company Name",
    contactEmail: "Email Address",
    contactEmailPlaceholder: "donpatron@gmail.com",
    contactInquiry: "Inquiry",
    contactInquiryPlaceholder: "Tell us about your business needs...",
    contactSend: "Send Inquiry",
    contactSent: "Inquiry Sent",
    
    // Footer
    footerCopyright: "© 2024 Mecanova. All rights reserved.",
    footerPrivacy: "Privacy Policy",
    footerTerms: "Terms of Service",
    
    // Technology Page
    techTitle: "Technology",
    techSubhead: "Infrastructure designed for disciplined distribution.",
    techSystemIntegration: "System-Level Integration",
    techSystemIntegrationDesc: "We are developing direct integrations that allow approved partners to connect MECANOVA into their inventory, ordering, and operational systems. This includes secure APIs for availability, allocations, and order status—reducing manual processes and improving accuracy.",
    techClientPortal: "Client Portal & APIs",
    techClientPortalDesc: "Our client portal functions as an operational layer, not a marketing interface. Live availability, documentation, order history, and API access are provided through a controlled, permissioned environment.",
    techDataPlanning: "Data & Planning",
    techDataPlanningDesc: "Predictive tools support reordering, inventory planning, and seasonal demand assessment. These tools are designed to assist decision-making, not replace it.",
    techTraceability: "Traceability",
    techTraceabilityDesc: "We are implementing verification layers that preserve origin, batch data, and production metadata—ensuring transparency without introducing unnecessary complexity.",
    techClosing: "Technology applied with the same discipline as product selection.",
    
    // Collection Pages
    tequilaTitle: "Tequila Collection",
    tequilaDesc: "Our tequila portfolio is currently being curated. We're selecting exceptional expressions that meet our standards for purity, terroir expression, and production integrity.",
    mezcalTitle: "Mezcal Collection",
    mezcalDesc: "Our mezcal selection is in development. We're sourcing authentic expressions that honor traditional production methods while meeting our standards for character, provenance, and transparency.",
    raicillaTitle: "Raicilla Collection",
    raicillaDesc: "Our raicilla portfolio is being carefully assembled. We're seeking expressions that exemplify precision, natural complexity, and uncompromised purity—selections that offer genuine differentiation.",
    comingSoon: "Coming soon.",
    returnHome: "Return to Home",
  },
  de: {
    // Navigation
    navPortfolio: "Portfolio",
    navAbout: "Über uns",
    navTechnology: "Technologie",
    navContact: "Kontakt",
    navClientLogin: "Kunden-Login",
    
    // Hero Section
    heroEst: "Gegr. 2024",
    heroPremiumAgave: "Premium Agaven-Spirituosen",
    heroImport: "Import",
    heroDistribution: "Vertrieb",
    heroInfrastructure: "Infrastruktur",
    heroTagline: "Wir verbinden außergewöhnliche Agaven-Spirituosen mit Europa durch konforme Importe und Logistik.",
    heroCheck1: "Frankfurter Importeur für Einzelhandel, Gastronomie und Großhandelspartner",
    heroCheck2: "Compliance zuerst: Etikettierung, Dokumentation und Rückverfolgbarkeit werden ordnungsgemäß gehandhabt",
    heroButton1: "Portfolio & Proben anfordern",
    heroButton2: "Unsere Vertriebspartner",
    heroScroll: "SCROLLEN",
    
    // Portfolio Section
    portfolioTitle: "Unser Portfolio",
    portfolioTequila: "Tequila",
    portfolioTequilaDesc: "Premium-Tequila ausgewählt für Klarheit des Terroirs und Produktionsintegrität—saubere Agaven-Ausprägung, ausgewogene Profile und zuverlässige Konsistenz für Gastronomie und Einzelhandel. Entwickelt für Partner, denen Glaubwürdigkeit wichtiger ist als Gimmicks.",
    portfolioMezcal: "Mezcal",
    portfolioMezcalDesc: "Handwerklich hergestellter Mezcal mit Fokus auf Charakter und Herkunft—unterschiedliche Agaven-Profile, durchdachte Produktion und transparente Beschaffung. Ideal für Premium-Bars, Fachhändler und Partner, die eine seriöse Spirituosen-Palette aufbauen.",
    portfolioRaicilla: "Raicilla",
    portfolioRaicillaDesc: "Ein seltener Agaven-Geist, definiert durch Präzision und Charakter—helle Aromatik, natürliche Komplexität und ein Profil, das sich ohne Übertreibung abhebt. Unsere Raicilla-Auswahl wird nach Reinheit und Balance gewählt und bietet echte Differenzierung für Partner, die etwas Besonderes und Kompromissloses suchen.",
    portfolioViewCollection: "Kollektion ansehen",
    
    // About Section
    aboutEyebrow: "Über uns",
    aboutTitle: "Vier Säulen",
    aboutSubhead: "Vom Ursprung bis zum Ausdruck.",
    pillar1Title: "Integrität vor Größe",
    pillar1Keyword: "Integrität",
    pillar1Body: "Wir wurden mit einer einfachen Überzeugung gegründet: Qualität muss vor Größe kommen. In einer Kategorie, die zunehmend von Zusatzstoffen und künstlicher Korrektur geprägt ist, arbeiten wir ausschließlich mit Spirituosen, die für sich selbst stehen—sauber, kompromisslos und ehrlich im Design.",
    pillar2Title: "Respekt vor dem Ursprung",
    pillar2Keyword: "Ursprung",
    pillar2Body: "Wir arbeiten nur mit Produzenten zusammen, die den Rohstoff, den Prozess und den Endverbraucher respektieren. Unser Portfolio wird durch Agave und Terroir definiert—nicht durch industrielle Anpassung—durch transparente Beschaffung und zusatzstofffreie Produktion.",
    pillar3Title: "Disziplinierter Vertrieb",
    pillar3Keyword: "Vertrieb",
    pillar3Body: "Unsere Aufgabe ist es, Integrität in professionellen europäischen Vertrieb zu übersetzen. Von Compliance und Dokumentation bis zur Marktreife wenden wir die gleiche Strenge auf den Vertrieb an wie auf die Produktauswahl—wir bauen langfristige Partnerschaften und nachhaltiges Kategoriewachstum auf.",
    pillar4Title: "Technologie als Infrastruktur",
    pillar4Keyword: "Technologie",
    pillar4Body: "Wir investieren in Technologie nicht als Differenzierungsmerkmal, sondern als Infrastruktur. Durch Systemintegrationen, APIs und datengesteuerte Tools entfernen wir Reibung aus dem professionellen Vertrieb und bewahren gleichzeitig die Produktintegrität. Technologie ermöglicht für uns diszipliniertes Wachstum ohne Kompromisse.",
    
    // Contact Section
    contactTitle: "Partnerschaftsanfragen",
    contactSubhead: "Für qualifizierte Einzelhandels- oder Gastronomiepartnerschaften kontaktieren Sie uns bitte, um den Zugang zu unserem Premium-Spirituosen-Portfolio zu besprechen.",
    contactName: "Vollständiger Name",
    contactNamePlaceholder: "Don Patron",
    contactCompany: "Unternehmen",
    contactCompanyPlaceholder: "Firmenname",
    contactEmail: "E-Mail-Adresse",
    contactEmailPlaceholder: "donpatron@gmail.com",
    contactInquiry: "Anfrage",
    contactInquiryPlaceholder: "Erzählen Sie uns von Ihren Geschäftsanforderungen...",
    contactSend: "Anfrage senden",
    contactSent: "Anfrage gesendet",
    
    // Footer
    footerCopyright: "© 2024 Mecanova. Alle Rechte vorbehalten.",
    footerPrivacy: "Datenschutzerklärung",
    footerTerms: "Nutzungsbedingungen",
    
    // Technology Page
    techTitle: "Technologie",
    techSubhead: "Infrastruktur für disziplinierten Vertrieb.",
    techSystemIntegration: "System-Level Integration",
    techSystemIntegrationDesc: "Wir entwickeln direkte Integrationen, die es genehmigten Partnern ermöglichen, MECANOVA in ihre Inventar-, Bestell- und Betriebssysteme einzubinden. Dazu gehören sichere APIs für Verfügbarkeit, Zuteilungen und Bestellstatus—Reduzierung manueller Prozesse und Verbesserung der Genauigkeit.",
    techClientPortal: "Kundenportal & APIs",
    techClientPortalDesc: "Unser Kundenportal fungiert als operative Ebene, nicht als Marketing-Interface. Live-Verfügbarkeit, Dokumentation, Bestellhistorie und API-Zugang werden über eine kontrollierte, berechtigte Umgebung bereitgestellt.",
    techDataPlanning: "Daten & Planung",
    techDataPlanningDesc: "Prädiktive Tools unterstützen Nachbestellung, Inventarplanung und saisonale Nachfragebewertung. Diese Tools sollen die Entscheidungsfindung unterstützen, nicht ersetzen.",
    techTraceability: "Rückverfolgbarkeit",
    techTraceabilityDesc: "Wir implementieren Verifizierungsebenen, die Herkunft, Chargendaten und Produktionsmetadaten bewahren—Transparenz gewährleisten ohne unnötige Komplexität einzuführen.",
    techClosing: "Technologie mit derselben Disziplin angewendet wie die Produktauswahl.",
    
    // Collection Pages
    tequilaTitle: "Tequila Kollektion",
    tequilaDesc: "Unser Tequila-Portfolio wird derzeit kuratiert. Wir wählen außergewöhnliche Abfüllungen aus, die unseren Standards für Reinheit, Terroir-Ausdruck und Produktionsintegrität entsprechen.",
    mezcalTitle: "Mezcal Kollektion",
    mezcalDesc: "Unsere Mezcal-Auswahl befindet sich in der Entwicklung. Wir beschaffen authentische Abfüllungen, die traditionelle Produktionsmethoden respektieren und gleichzeitig unseren Standards für Charakter, Herkunft und Transparenz entsprechen.",
    raicillaTitle: "Raicilla Kollektion",
    raicillaDesc: "Unser Raicilla-Portfolio wird sorgfältig zusammengestellt. Wir suchen Abfüllungen, die Präzision, natürliche Komplexität und kompromisslose Reinheit verkörpern—Auswahlen, die echte Differenzierung bieten.",
    comingSoon: "Demnächst verfügbar.",
    returnHome: "Zurück zur Startseite",
  }
};

// Translation utility functions
const i18n = {
  currentLang: localStorage.getItem('mecanova-lang') || 'en',
  
  init() {
    this.setLanguage(this.currentLang);
    this.updateLanguageButton();
  },
  
  setLanguage(lang) {
    if (!translations[lang]) return;
    this.currentLang = lang;
    localStorage.setItem('mecanova-lang', lang);
    document.documentElement.lang = lang;
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      const translation = translations[lang][key];
      
      if (translation !== undefined) {
        if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
          if (el.hasAttribute('placeholder') || el.hasAttribute('data-i18n-placeholder')) {
            el.placeholder = translation;
          } else {
            el.value = translation;
          }
        } else {
          // Handle pillar titles with keyword highlighting
          if (el.classList.contains('pillar-title')) {
            const pillar = el.closest('.pillar');
            const pillarIndex = pillar ? pillar.getAttribute('data-pillar-index') : null;
            const keywordTranslation = pillarIndex ? translations[lang][`pillar${pillarIndex}Keyword`] : null;
            
            if (keywordTranslation) {
              // Find and wrap the keyword in the translation
              const regex = new RegExp(`(${keywordTranslation})`, 'gi');
              const parts = translation.split(regex);
              el.innerHTML = parts.map(part => 
                part.toLowerCase() === keywordTranslation.toLowerCase() 
                  ? `<span class="keyword">${part}</span>` 
                  : part
              ).join('');
            } else {
              el.textContent = translation;
            }
          } else {
            el.textContent = translation;
          }
        }
      }
    });
    
    // Handle placeholder-only translations (data-i18n-placeholder)
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
      const key = el.getAttribute('data-i18n-placeholder');
      const translation = translations[lang][key];
      if (translation !== undefined) {
        el.placeholder = translation;
      }
    });
    
    // Update HTML lang attribute
    document.documentElement.setAttribute('lang', lang);
  },
  
  toggleLanguage() {
    const newLang = this.currentLang === 'en' ? 'de' : 'en';
    this.setLanguage(newLang);
    this.updateLanguageButton();
  },
  
  updateLanguageButton() {
    const btn = document.getElementById('lang-switcher');
    const btnMobile = document.getElementById('lang-switcher-mobile');
    const buttons = [btn, btnMobile].filter(Boolean);
    
    buttons.forEach(button => {
      if (button) {
        button.textContent = this.currentLang === 'en' ? 'DE' : 'EN';
        button.setAttribute('aria-label', this.currentLang === 'en' ? 'Switch to German' : 'Switch to English');
      }
    });
  }
};

// Initialize on DOM load
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', () => i18n.init());
} else {
  i18n.init();
}

// Make i18n and translations available globally
window.i18n = i18n;
window.translations = translations;

